# default.conf - user-managed application routes
# This file is intentionally left empty by default to prevent Nginx errors
# related to 'host.docker.internal' when no custom applications are defined.
# Edit this file to add your app routes. Do NOT edit monitoring.conf.

server {
    listen 443 ssl;
    server_name yourapp.example.com;

    ssl_certificate /run/secrets/tls_crt;
    ssl_certificate_key /run/secrets/tls_key;

    # Example path-based proxy to an app running on host port 8001
    # location /app1/ {
    #     proxy_pass http://host.docker.internal:8001/;
    #     proxy_set_header Host $host;
    #     proxy_set_header X-Real-IP $remote_addr;
    #     proxy_redirect off;
    # }

    # Example: another app
    # location /app2/ {
    #     proxy_pass http://host.docker.internal:8002/;
    #     proxy_set_header Host $host;
    #     proxy_set_header X-Real-IP $remote_addr;
    #     proxy_redirect off;
    # }

    # health for external load balancer
    location /health {
        return 200 'OK';
        add_header Content-Type text/plain;
    }
}
